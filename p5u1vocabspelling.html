<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>P5U1 Vocabulary-Spelling</title>

<style>
/* =========================
   Ms Sng Pastel Rainbow UI
   ========================= */

:root{
  --p1:#ffd1e8;
  --p2:#ffe6a7;
  --p3:#d8f5c7;
  --p4:#cfe9ff;
  --p5:#e5d7ff;
  --p6:#ffd7c7;

  --ink:#1f2937;
  --muted:#6b7280;
  --line:rgba(31,41,55,.12);

  --accent:#ff6fb4;
  --accent2:#7dd3fc;
  --next:#34d399;
  --next2:#60a5fa;

  --good:#22c55e;
  --bad:#ef4444;

  --panelW:min(1180px,96vw);
  --btnH:64px;
  --btnPadX:20px;
  --controlsPad:160px;

  --titleSize:32px;
  --wordSize:90px;
  --inputSize:22px;
  --pad:20px;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:ui-sans-serif,system-ui;
  display:flex;
  justify-content:center;
  padding:18px;
  background:
    radial-gradient(900px 520px at 10% 10%, rgba(255,209,232,.55), transparent 60%),
    radial-gradient(850px 520px at 92% 0%, rgba(207,233,255,.55), transparent 62%),
    linear-gradient(180deg,#fff9fd,#f7fbff);
}

.panel{
  width:var(--panelW);
  border-radius:28px;
  background:rgba(255,255,255,.92);
  box-shadow:0 25px 60px rgba(0,0,0,.12);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  position:relative;
}

/* Confetti */
#confettiCanvas{
  position:absolute;
  inset:0;
  pointer-events:none;
  display:none;
}

/* Header */
header{
  padding:18px 22px;
  position:relative;
  background:white;
}
header:before{
  content:"";
  position:absolute;
  top:0;left:0;right:0;
  height:8px;
  background:linear-gradient(90deg,var(--p1),var(--p2),var(--p3),var(--p4),var(--p5),var(--p6));
}
h1{
  margin:8px 0 0 0;
  font-size:var(--titleSize);
  font-weight:900;
}
h1::before{content:"üåà ";}

/* Main */
.main{
  padding:var(--pad) var(--pad) calc(var(--controlsPad)+16px);
  display:grid;
  gap:18px;
  flex:1;
}

.topRow{
  display:flex;
  justify-content:space-between;
  font-size:16px;
  color:var(--muted);
}

.wordBox{
  border-radius:28px;
  background:white;
  box-shadow:0 15px 35px rgba(0,0,0,.08);
  padding:50px 20px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.word{
  font-size:var(--wordSize);
  font-weight:1000;
}

.covered{
  filter:blur(18px);
  opacity:.15;
}

/* Input */
.writeRow{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
input{
  flex:1;
  padding:16px;
  border-radius:18px;
  border:1px solid var(--line);
  font-size:var(--inputSize);
  font-weight:700;
}
input:focus{
  outline:none;
  box-shadow:0 0 0 4px rgba(255,111,180,.25);
}

.tag{
  padding:8px 12px;
  border-radius:999px;
  font-weight:900;
}
.tag.good{background:#d8f5c7;color:#14532d}
.tag.bad{background:#ffd1e8;color:#7f1d1d}
.hidden{display:none !important}

/* Controls */
.controls{
  position:sticky;
  bottom:0;
  padding:14px;
  background:white;
  border-top:1px solid var(--line);
}
.controls:before{
  content:"";
  display:block;
  height:6px;
  margin:-14px -14px 10px;
  background:linear-gradient(90deg,var(--p1),var(--p2),var(--p3),var(--p4),var(--p5),var(--p6));
}
.btnRow{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
}
button{
  height:var(--btnH);
  padding:0 var(--btnPadX);
  border-radius:18px;
  border:none;
  font-weight:900;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
button:disabled{opacity:.4;cursor:not-allowed}

.primary{
  background:linear-gradient(135deg,#ff6fb4,#7dd3fc);
  color:white;
}
.next{
  background:linear-gradient(135deg,#34d399,#60a5fa);
  color:white;
}
.danger{
  background:#ffe4e6;
  color:#991b1b;
}

/* Congrats */
.congratsWrap{
  display:grid;
  gap:16px;
  padding:var(--pad);
  text-align:center;
  flex:1;
}
.congratsTitle{
  font-size:42px;
  font-weight:1000;
}
.wordsGrid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
  font-weight:900;
  font-size:20px;
  margin:auto;
  max-width:800px;
}
.badge{
  padding:8px 16px;
  border-radius:999px;
  background:linear-gradient(135deg,#ffe6a7,#e5d7ff);
  font-weight:1000;
  opacity:0;
  transform:scale(.6);
}
.badge.show{
  animation:pop .8s forwards;
}
@keyframes pop{
  0%{opacity:0;transform:scale(.6)}
  70%{opacity:1;transform:scale(1.1)}
  100%{opacity:1;transform:scale(1)}
}

/* Footer */
footer{
  padding:12px;
  text-align:center;
  font-size:14px;
  font-weight:800;
  color:var(--muted);
  background:white;
  border-top:1px solid var(--line);
}

/* Mobile */
@media(max-width:600px){
  .word{font-size:58px}
  .wordsGrid{grid-template-columns:1fr}
  button{width:100%}
}
</style>
</head>

<body>
<section class="panel">

<canvas id="confettiCanvas"></canvas>

<header>
<h1>P5U1 Vocabulary-Spelling</h1>
</header>

<div class="main" id="gamePage">

<div class="topRow">
<div id="progress">Word 1 of 15</div>
<div id="score">0/15 correct</div>
</div>

<div class="wordBox">
<div class="word covered" id="targetWord"></div>
</div>

<div class="writeRow">
<input id="inputBox" class="hidden" placeholder="Type..." autocomplete="off" spellcheck="false" />
<span id="resultTag" class="hidden"></span>
</div>

<div class="controls" id="controls">
<div class="btnRow">
<button id="btnLook">Look</button>
<button id="btnSay" disabled>Say</button>
<button id="btnCover" disabled>Cover</button>
<button id="btnWrite" disabled>Write</button>
<button id="btnCheck" class="primary" disabled>Check</button>
<button id="btnNext" class="next">Next Word</button>
<button id="btnReset" class="danger">Reset Word</button>
</div>
</div>

</div>

<div class="congratsWrap hidden" id="congratsPage">
<div class="congratsTitle">üéâ Congratulations! üéâ</div>
<div>You scored <span id="finalScore">15/15</span></div>
<div class="badge" id="perfectBadge">üèÜ Perfect Score</div>
<div class="wordsGrid" id="wordsGrid"></div>
<button id="btnPlayAgain" class="primary">Play Again</button>
</div>

<footer>
¬© <span id="currentYear"></span> Sng Qi Wen
</footer>

</section>

<script>
const words=["lunged","yelped","errands","shoved","tugging","sprinted","smirked","dreaded","bellowed","yearning","forlornly","flexibility","hesitantly","humiliating","satisfaction"];

let idx=0, stage=0, finished=false;
const stats=new Map();
words.forEach(w=>stats.set(w,false));

const targetWord=document.getElementById("targetWord");
const inputBox=document.getElementById("inputBox");
const progress=document.getElementById("progress");
const score=document.getElementById("score");
const resultTag=document.getElementById("resultTag");
const gamePage=document.getElementById("gamePage");
const congratsPage=document.getElementById("congratsPage");
const wordsGrid=document.getElementById("wordsGrid");
const perfectBadge=document.getElementById("perfectBadge");

function update(){
targetWord.textContent=words[idx];
progress.textContent=`Word ${idx+1} of ${words.length}`;
score.textContent=`${[...stats.values()].filter(v=>v).length}/${words.length} correct`;
if([...stats.values()].every(v=>v) && !finished){finished=true;showCongrats();}
}
function resetStages(){
stage=0;
btnLook.disabled=false;
btnSay.disabled=true;
btnCover.disabled=true;
btnWrite.disabled=true;
btnCheck.disabled=true;
inputBox.classList.add("hidden");
inputBox.value="";
resultTag.className="hidden";
targetWord.classList.add("covered");
}

btnLook.onclick=()=>{if(stage!==0)return;targetWord.classList.remove("covered");btnSay.disabled=false;stage=1;}
btnSay.onclick=()=>{if(stage!==1)return;speechSynthesis.speak(new SpeechSynthesisUtterance(words[idx]));btnCover.disabled=false;stage=2;}
btnCover.onclick=()=>{if(stage!==2)return;targetWord.classList.add("covered");btnWrite.disabled=false;stage=3;}
btnWrite.onclick=()=>{if(stage!==3)return;inputBox.classList.remove("hidden");btnCheck.disabled=false;stage=4;inputBox.focus();}
btnCheck.onclick=()=>{
if(stage!==4)return;
if(inputBox.value.trim().toLowerCase()===words[idx]){
stats.set(words[idx],true);
resultTag.className="tag good";
resultTag.textContent="Correct";
targetWord.classList.remove("covered");
}else{
resultTag.className="tag bad";
resultTag.textContent="Try again";
}
resultTag.classList.remove("hidden");
update();
};
btnNext.onclick=()=>{idx=(idx+1)%words.length;update();resetStages();}
btnReset.onclick=()=>{stats.set(words[idx],false);update();resetStages();}

function showCongrats(){
gamePage.classList.add("hidden");
congratsPage.classList.remove("hidden");
wordsGrid.innerHTML="";
words.forEach(w=>{
const div=document.createElement("div");
div.textContent=w;
wordsGrid.appendChild(div);
});
perfectBadge.classList.add("show");
startConfetti();
playSound();
}

btnPlayAgain.onclick=()=>{
finished=false;
idx=0;
words.forEach(w=>stats.set(w,false));
congratsPage.classList.add("hidden");
gamePage.classList.remove("hidden");
perfectBadge.classList.remove("show");
update();resetStages();
};

document.getElementById("currentYear").textContent=new Date().getFullYear();

/* Celebration Sound */
function playSound(){
const ctx=new (window.AudioContext||window.webkitAudioContext)();
const o=ctx.createOscillator();
o.type="triangle";o.frequency.value=880;
o.connect(ctx.destination);o.start();
setTimeout(()=>o.stop(),300);
}

/* Confetti */
function startConfetti(){
const canvas=document.getElementById("confettiCanvas");
const ctx=canvas.getContext("2d");
canvas.width=canvas.offsetWidth;
canvas.height=canvas.offsetHeight;
canvas.style.display="block";
let pieces=[...Array(120)].map(()=>({
x:Math.random()*canvas.width,
y:Math.random()*-canvas.height,
size:6+Math.random()*6,
speed:2+Math.random()*4,
color:`hsl(${Math.random()*360},100%,75%)`
}));
let t=0;
function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
pieces.forEach(p=>{
ctx.fillStyle=p.color;
ctx.fillRect(p.x,p.y,p.size,p.size);
p.y+=p.speed;
if(p.y>canvas.height)p.y=0;
});
if(t<200){requestAnimationFrame(draw);t++;}
else canvas.style.display="none";
}
draw();
}

update();resetStages();
</script>
</body>
</html>
