<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Factual Fluency â€” Multiplication Tables of 6</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#ffffff;
  --ink:#0b1220;
  --muted:#5b6474;
  --line:#e7e9f3;
  --shadow:0 16px 44px rgba(12,20,40,.10);

  --blue:#72A0D4;
  --purple:#9278BB;
  --pink:#DE8AAC;
  --yellow:#FBC235;
  --green:#8EBF50;

  --panelW:min(1200px,94vw);
  --pad:clamp(16px,2.2vw,28px);

  --titleSize:clamp(38px,4.4vw,78px);
  --subSize:clamp(18px,2.2vw,30px);
  --qSize:clamp(52px,6.2vw,110px);
  --ansSize:clamp(34px,4.2vw,76px);
  --metaSize:clamp(14px,1.7vw,22px);
  --btnH:clamp(54px,6.6vw,78px);
  --btnSize:clamp(16px,2.2vw,24px);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Balsamiq Sans",sans-serif;
  color:var(--ink);
  background:var(--bg);
}

.wrap{
  width:var(--panelW);
  margin:auto;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  padding:var(--pad) 0;
}

.card{
  background:#fff;
  border:1px solid var(--line);
  border-radius:22px;
  box-shadow:var(--shadow);
  padding:var(--pad);
}

.center{
  display:grid;
  place-items:center;
  text-align:center;
  min-height:80vh;
}

.title{font-size:var(--titleSize);font-weight:700;}
.subtitle{font-size:var(--subSize);color:var(--muted);}

.question{font-size:var(--qSize);font-weight:700;text-align:center;}
.answer{font-size:var(--ansSize);font-weight:700;}
.hidden{display:none;}

.btnRow{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:18px;
}

button{
  height:var(--btnH);
  padding:0 24px;
  border:none;
  border-radius:16px;
  font-size:var(--btnSize);
  font-weight:700;
  cursor:pointer;
}

.btnPrimary{background:var(--yellow);}
.btnNext{background:var(--blue);}
.btnAgain{background:var(--green);}
button:disabled{opacity:.5;cursor:not-allowed}

.footer{
  margin-top:auto;
  text-align:center;
  font-size:14px;
  color:var(--muted);
}

@media(max-width:520px){
  button{width:100%}
}
</style>
</head>

<body>
<div class="wrap">

<section id="cover" class="center">
  <div class="card">
    <div class="title">Factual Fluency</div>
    <div class="subtitle">Multiplication Tables of 6</div>
    <div class="btnRow">
      <button id="startBtn" class="btnPrimary">Start</button>
    </div>
  </div>
</section>

<section id="game" style="display:none;">
  <div class="card">
    <div class="question" id="qText"></div>
    <div class="answer hidden" id="ansText"></div>

    <div class="btnRow">
      <button id="nextBtn" class="btnNext">Next</button>
      <button id="againBtn" class="btnAgain hidden">Practice Again</button>
    </div>
  </div>
</section>

<div class="footer">Â© <span id="year"></span> Sng Qi Wen</div>
</div>

<script>
const $ = s => document.querySelector(s);
$("#year").textContent = new Date().getFullYear();

/* ---------------- SOUND SYSTEM ---------------- */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

function playTone(freq, duration=0.2, type="sine"){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = type;
  osc.frequency.value = freq;
  gain.gain.value = 0.2;
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + duration);
}

/* Sound Effects */
function soundCorrect(){
  playTone(800,0.15);
  setTimeout(()=>playTone(1000,0.15),120);
}

function soundFinish(){
  playTone(600,0.2);
  setTimeout(()=>playTone(800,0.2),150);
  setTimeout(()=>playTone(1000,0.3),300);
}

function soundAgain(){
  playTone(500,0.15);
  setTimeout(()=>playTone(400,0.15),120);
}

/* ---------------- QUESTION LOGIC ---------------- */
let questions=[];
let index=0;
let revealed=false;

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

function generateSet(){
  let pool=[];
  for(let i=0;i<=12;i++){
    if(i!==6) pool.push(i);
  }
  shuffle(pool);
  let chosen=pool.slice(0,10);

  questions=chosen.map((x,i)=>{
    if(i%2===0){
      return {text:`6 Ã— ${x}`,answer:6*x};
    }else{
      return {text:`${x} Ã— 6`,answer:6*x};
    }
  });

  index=0;
  revealed=false;
  updateUI();
}

function updateUI(){
  $("#qText").textContent=questions[index].text;
  $("#ansText").textContent="= "+questions[index].answer;
  $("#ansText").classList.add("hidden");
  $("#nextBtn").disabled=false;
  $("#nextBtn").textContent="Next";
  $("#againBtn").classList.add("hidden");
}

/* ---------------- BUTTON EVENTS ---------------- */

$("#startBtn").onclick=()=>{
  $("#cover").style.display="none";
  $("#game").style.display="block";
  generateSet();
};

$("#nextBtn").onclick=()=>{
  if(!revealed){
    revealed=true;
    $("#ansText").classList.remove("hidden");
    soundCorrect(); // ðŸ”Š correct sound
    return;
  }

  if(index===questions.length-1){
    soundFinish(); // ðŸ”Š finish sound
    $("#nextBtn").disabled=true;
    $("#againBtn").classList.remove("hidden");
    return;
  }

  index++;
  revealed=false;
  updateUI();
};

$("#againBtn").onclick=()=>{
  soundAgain(); // ðŸ”Š practice again sound
  generateSet();
};
</script>
</body>
</html>